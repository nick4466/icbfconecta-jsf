<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Matrícula de Niño</title>
</h:head>
<h:body>

<h:form enctype="multipart/form-data">
    <h:messages globalOnly="true" style="color:red;" />

    <!-- ====================== -->
    <!-- DATOS DEL NIÑO -->
    <!-- ====================== -->
    <h2>Datos del Niño</h2>
    <h:panelGrid columns="2" columnClasses="label,value">

        <h:outputLabel for="nombresN" value="Nombres:" />
        <h:inputText id="nombresN" value="#{ninoBean.nino.nombres}" required="true" />

        <h:outputLabel for="apellidosN" value="Apellidos:" />
        <h:inputText id="apellidosN" value="#{ninoBean.nino.apellidos}" required="true" />

        <h:outputLabel for="documentoN" value="Documento:" />
        <h:inputText id="documentoN" value="#{ninoBean.nino.documento}" />

        <h:outputLabel for="fechaNac" value="Fecha de nacimiento:" />
        <div class="form-field">
                    <h:outputLabel for="fechaNac" value="Fecha de nacimiento" styleClass="field-label"/>
                    <p:calendar id="fechaNac"
                                value="#{ninoBean.nino.fechaNacimiento}"
                                pattern="yyyy-MM-dd"
                                
                                navigator="true"
                                yearRange="1950:2100"
                                required="true"
                                requiredMessage="Selecciona la fecha de nacimiento."
                                inputStyleClass="input-field"/>
                    <h:message for="fechaNac" styleClass="error-msg"/>
                </div>

        <h:outputLabel for="genero" value="Género:" />
        <h:selectOneMenu id="genero" value="#{ninoBean.nino.genero}">
            <f:selectItem itemLabel="Seleccione..." itemValue="" />
            <f:selectItem itemLabel="Masculino" itemValue="masculino" />
            <f:selectItem itemLabel="Femenino" itemValue="femenino" />
            <f:selectItem itemLabel="Otro" itemValue="otro" />
            <f:selectItem itemLabel="No especificado" itemValue="no_especificado" />
        </h:selectOneMenu>

        <h:outputLabel for="nacionalidad" value="Nacionalidad:" />
        <h:inputText id="nacionalidad" value="#{ninoBean.nino.nacionalidad}" />

        <h:outputLabel for="hogar" value="Hogar comunitario:" />
        <h:selectOneMenu id="hogar" value="#{ninoBean.nino.hogarId}" required="true">
            <f:selectItem itemLabel="Seleccione un hogar..." itemValue="" noSelectionOption="true"/>
            <f:selectItems value="#{ninoBean.listaHogares}" var="h"
                           itemValue="#{h.idHogar}"
                           itemLabel="#{h.nombreHogar} - #{h.localidad}" />
        </h:selectOneMenu>

        <h:outputLabel for="fotoNino" value="Foto del niño:" />
        <h:inputFile id="fotoNino" value="#{ninoBean.fotoNinoPart}" required="true" />

    </h:panelGrid>

    <p:separator/>

    <!-- ====================== -->
    <!-- DATOS DEL PADRE -->
    <!-- ====================== -->
    <h2>Datos del Padre</h2>
    <h:panelGrid columns="2" columnClasses="label,value">

        <h:outputLabel for="nombresP" value="Nombres:" />
        <h:inputText id="nombresP" value="#{ninoBean.usuarioPadre.nombres}" required="true" />

        <h:outputLabel for="apellidosP" value="Apellidos:" />
        <h:inputText id="apellidosP" value="#{ninoBean.usuarioPadre.apellidos}" required="true" />

        <h:outputLabel for="documentoP" value="Documento:" />
        <h:inputText id="documentoP" value="#{ninoBean.usuarioPadre.documento}" required="true" />

        <h:outputLabel for="ocupacion" value="Ocupación:" />
        <h:inputText id="ocupacion" value="#{ninoBean.padre.ocupacion}" />

        <h:outputLabel for="estrato" value="Estrato:" />
        <h:inputText id="estrato" value="#{ninoBean.padre.estrato}" />

        <h:outputLabel for="telEmerg" value="Teléfono de emergencia:" />
        <h:inputText id="telEmerg" value="#{ninoBean.padre.telefonoContactoEmergencia}" />

        <h:outputLabel for="nomEmerg" value="Nombre contacto de emergencia:" />
        <h:inputText id="nomEmerg" value="#{ninoBean.padre.nombreContactoEmergencia}" />

        <h:outputLabel for="sitEcon" value="Situación económica hogar:" />
        <h:inputTextarea id="sitEcon" value="#{ninoBean.padre.situacionEconomicaHogar}" rows="3" cols="30" />

        <h:outputLabel for="docPadre" value="Documento de identidad (archivo):" />
        <h:inputFile id="docPadre" value="#{ninoBean.docPadrePart}" required="true" />

        <h:outputLabel for="correoP" value="Correo electrónico:" />
        <h:inputText id="correoP" value="#{ninoBean.usuarioPadre.correo}" required="true" />

        <h:outputLabel for="direccionP" value="Dirección:" />
        <h:inputText id="direccionP" value="#{ninoBean.usuarioPadre.direccion}" />

        <h:outputLabel for="telefonoP" value="Teléfono:" />
        <h:inputText id="telefonoP" value="#{ninoBean.usuarioPadre.telefono}" />

        <h:outputLabel for="pass1" value="Contraseña:" />
        <h:inputSecret id="pass1" value="#{ninoBean.password1}" required="true" redisplay="true"/>

        <h:outputLabel for="pass2" value="Confirmar contraseña:" />
        <h:inputSecret id="pass2" value="#{ninoBean.password2}" required="true" redisplay="true"/>

    </h:panelGrid>

    <p:separator/>

    <!-- BOTONES -->
<p:commandButton value="Guardar Matrícula"
                 action="#{NinoBean.guardarMatricula}"
                 ajax="false"
                 styleClass="ui-button-success"/>


    <p:commandButton value="Cancelar" immediate="true"
                     action="#{NinoBean.cancelar}"
                     styleClass="ui-button-secondary"/>
   
</h:form>

</h:body>
</html>
