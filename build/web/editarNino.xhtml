<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Editar Niño</title>
</h:head>
<h:body>
    <f:metadata>
        <f:viewParam name="idNino" value="#{ninoBean.nino.idNino}" />
        <f:event type="preRenderView" listener="#{ninoBean.cargarNinoPorId}" />
    </f:metadata>

    <h:form enctype="multipart/form-data">
        <h2>Editar Información del Niño</h2>

        <h:panelGrid columns="4" columnClasses="label,value,label,value" cellpadding="5">

            <!-- Nombres -->
            <h:outputLabel for="nombres" value="Nombres:" />
            <h:inputText id="nombres" value="#{ninoBean.nino.nombres}" required="true"/>
            <h:outputLabel for="apellidos" value="Apellidos:" />
            <h:inputText id="apellidos" value="#{ninoBean.nino.apellidos}" required="true"/>

            <!-- Fecha nacimiento -->
            <h:outputLabel for="fechaNac" value="Fecha de Nacimiento:" />
            <p:calendar id="fechaNac" value="#{ninoBean.nino.fechaNacimiento}"
                        pattern="yyyy-MM-dd" navigator="true" showButtonPanel="true"/>
            <h:outputLabel for="genero" value="Género:" />
            <h:selectOneMenu id="genero" value="#{ninoBean.nino.genero}">
                <f:selectItem itemLabel="Seleccione..." itemValue="" />
                <f:selectItem itemLabel="Masculino" itemValue="masculino" />
                <f:selectItem itemLabel="Femenino" itemValue="femenino" />
                <f:selectItem itemLabel="Otro" itemValue="otro" />
                <f:selectItem itemLabel="No especificado" itemValue="no_especificado" />
            </h:selectOneMenu>

            <!-- Nacionalidad -->
            <h:outputLabel for="nacionalidad" value="Nacionalidad:" />
            <h:inputText id="nacionalidad" value="#{ninoBean.nino.nacionalidad}" />
            <h:outputLabel for="foto" value="Nueva Foto (opcional):" />
            <h:inputFile id="foto" value="#{ninoBean.fotoNinoPart}" />

        </h:panelGrid>

        <p:separator/>

        <!-- Botones -->
        <p:commandButton value="Guardar Cambios"
                         action="#{ninoBean.actualizarNino}"
                         ajax="false"
                         styleClass="ui-button-success"/>
        <p:commandButton value="Cancelar"
                         action="listarNinos?faces-redirect=true"
                         immediate="true"
                         ajax="false"
                         styleClass="ui-button-secondary"/>

        <!-- Mensajes -->
        <p:messages id="messages" showDetail="true" showSummary="true" closable="true" />

    </h:form>
</h:body>
</html>
